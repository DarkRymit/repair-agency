<th:block xmlns:th="http://www.thymeleaf.org">
    <div class="container ms-0" th:fragment="receipt(search,receipts)">
        <div class="row">
            <div class="col-2" th:insert="fragments/form.html :: receiptSearch (${search})"></div>
            <div class="col-10">
                <th:block th:insert="fragments/table.html :: simple(~{::#receiptHead},~{::#receiptBody})">
                    <tr class="head" id="receiptHead">
                        <th scope="col">User</th>
                        <th scope="col">Status</th>
                        <th scope="col">Master</th>
                        <th scope="col">Category</th>
                        <th scope="col">Price</th>
                        <th scope="col">Currency</th>
                        <th scope="col">Creation time</th>
                        <th scope="col">Delivery country</th>
                        <th scope="col">Delivery city</th>
                    </tr>
                    <tr class="body table-light" th:each="receipt:${receipts.getContent()}" id="receiptBody">
                        <td>
                            <a class=" text-dark text-decoration-none"
                               th:href="'/user/'+${receipt.user.id}+'/profile'"
                               th:text="'@'+${receipt.user.username}"></a>
                        </td>
                        <td>
                            <th:block th:switch="${receipt.status.name}">
                                <span th:case="'CREATED'">Created</span>
                                <span th:case="'WAIT_FOR_PAYMENT'">Wait for payment</span>
                                <span th:case="'PAID'">Paid</span>
                                <span th:case="'IN_WORK'">In work</span>
                                <span th:case="'DONE'">Done</span>
                                <span th:case="'CANCELED'">Canceled</span>
                            </th:block>
                        </td>
                        <td th:switch="${receipt.master} == null">
                            <i class=" text-dark text-decoration-none"
                               th:case="true">
                                Not assigned
                            </i>
                            <a class=" text-dark text-decoration-none"
                               th:case="*"
                               th:href="'/user/'+${receipt.master.id}+'/profile'"
                               th:text="'@'+${receipt.master.username}"></a>
                        </td>
                        <td th:text="${receipt.category.name}">notebook</td>
                        <td th:text="${receipt.totalPrice}">20.40</td>
                        <td th:text="${receipt.priceCurrency.code}">USD</td>
                        <td th:text="${@thymeleafUtil.format(receipt.creationDate)}">14-01-2003</td>
                        <td th:text="${receipt.delivery.country}">Ukraine</td>
                        <td th:text="${receipt.delivery.city}">Kyiv</td>
                    </tr>
                </th:block>
                <th:block th:insert="~{fragments/pagination.html :: pagination(${receipts})}"></th:block>
            </div>
        </div>
    </div>
    <div class="container ms-0" th:fragment="user(search,users)">
        <div class="row">
            <div class="col-2" th:insert="fragments/form.html :: userSearch(${search})"></div>
            <div class="col-10">
                <th:block th:insert="fragments/table.html :: simple(~{::#userHead},~{::#userBody})">
                    <tr class="head" id="userHead">
                        <th scope="col">Username</th>
                        <th scope="col">First Name</th>
                        <th scope="col">Last Name</th>
                        <th scope="col">Phone</th>
                        <th scope="col">Roles</th>
                    </tr>
                    <tr class="body table-light" th:each="user:${users.getContent()}" id="userBody">
                        <td>
                            <a class=" text-dark text-decoration-none"
                               th:href="'/user/'+${user.id}+'/profile'"
                               th:text="'@'+${user.username}"></a>
                        </td>
                        <td th:text="${user.firstName}"></td>
                        <td th:text="${user.lastName}"></td>
                        <td th:text="${user.phone}"></td>
                        <td>
                            <ul class="list-group" th:each="role:${user.roles}">
                                <li class="list-group-item" th:text="${role.name}"></li>
                            </ul>
                        </td>
                    </tr>
                </th:block>
                <th:block th:insert="~{fragments/pagination.html :: pagination(${users})}"></th:block>
            </div>
        </div>
    </div>
</th:block>
